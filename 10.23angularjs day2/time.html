<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>
    <script src="../数据/angular/angular-1.5.8/angular.min.js"></script>
</head>
<body>
<div ng-app="MyApp">
    <timenow></timenow>
</div>
<script>
    var myApp = angular.module('MyApp',[]);
    myApp.directive('timenow', function () {
//            var timenow = new Date();
            return{
                restrict:'E',
                template:'<div ng-controller="myCtrl">{{clock}}</div>',
                replace: true
            }


    });
    myApp.controller("myCtrl",['$scope',function ($scope) {
        $scope.clock = new Date();


        var updateClock = function () {
            $scope.clock = new Date().toLocaleString();
        };
        setInterval(function () {
            $scope.$apply(updateClock);
        },1);
    }]);


</script>
</body>
</html>